<?xml version="1.0" encoding="utf-8"?>
<!--
  ~ Copyright 2017
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<android.support.design.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main_content"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fitsSystemWindows="true"
    tools:context=".ui.MediaBrowserActivity">
<!--
    <android.support.constraint.ConstraintLayout
           android:layout_width="match_parent"
           android:layout_height="match_parent"
        app:layout_behavior="@string/appbar_scrolling_view_behavior"
        tools:context=".ui.MediaBrowserActivity"
        -->
       <LinearLayout
           android:layout_width="match_parent"
           android:layout_height="match_parent"
           app:layout_behavior="@string/appbar_scrolling_view_behavior"
           app:layout_scrollFlags="scroll|exitUntilCollapsed">

        <android.support.v4.widget.SwipeRefreshLayout
                android:id="@+id/swipeRefreshLayout"
                android:layout_width="match_parent"
                android:layout_height="match_parent">
                <!-- This FrameLayout is still mandatory ONLY IF sticky header will be enabled. This
                layout will help to receive the inflated layout at runtime and to display the
                Refresh circle AND the FastScroller on the top of sticky_header_layout. -->
                <FrameLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    >

                    <android.support.v7.widget.RecyclerView
                        android:id="@+id/recycler_view"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:background="@drawable/img_back"
                        android:layout_marginBottom="50dp"
                        tools:listitem="@layout/view_list_item" />
                    <RelativeLayout
                        android:id="@+id/header_panel"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@color/transparent">
                        <com.github.florent37.shapeofview.shapes.CutCornerView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:elevation="4dp"
                            android:layout_marginLeft="@dimen/collection_subtitle_left"
                            app:shape_cutCorner_bottomLeftSize="16dp"
                            app:shape_cutCorner_bottomRightSize="4dp">
                            <LinearLayout
                                android:id="@+id/header_title_bar"
                                android:layout_width="match_parent"
                                android:layout_height="@dimen/media_item_header_height"
                                android:background="@color/header_title_background"
                                android:orientation="vertical">
                                <TextView
                                    android:id="@+id/header_title"
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:layout_marginRight="@dimen/dimen_8_dp"
                                    android:gravity="right|center_vertical"
                                    android:singleLine="true"
                                    android:textSize="11dp"
                                    android:textColor="@color/grey200"/>
                                <TextView
                                    android:id="@+id/header_subtitle"
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:layout_marginRight="@dimen/dimen_8_dp"
                                    android:gravity="right|center_vertical"
                                    android:ellipsize="end"
                                    android:maxLines="1"
                                    android:textSize="10dp"
                                    android:textAppearance="@style/TextAppearance.AppCompat.Caption"
                                    android:textColor="@color/grey200"
                                    tools:text="Subtitle"/>
                            </LinearLayout>
                            <!--
                            <LinearLayout
                                android:id="@+id/header_search_bar"
                                android:layout_width="match_parent"
                                android:layout_height="@dimen/media_item_header_height"
                                android:background="@color/header_title_background">
                                <com.github.florent37.shapeofview.shapes.CutCornerView
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:layout_marginLeft="@dimen/dimen_16_dp"
                                    android:layout_marginTop="4dp"
                                    android:layout_marginRight="8dp"
                                    app:shape_cutCorner_topLeftSize="8dp"
                                    app:shape_cutCorner_topRightSize="4dp"
                                    app:shape_cutCorner_bottomLeftSize="8dp"
                                    app:shape_cutCorner_bottomRightSize="4dp">
                                    <LinearLayout
                                        android:layout_width="match_parent"
                                        android:layout_height="wrap_content"
                                        android:background="@color/white">
                                <EditText
                                    android:id="@+id/searchText"
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:background="@color/white"
                                    android:textSize="16sp"
                                    android:layout_marginLeft="12dp"
                                    android:textColor="@color/colorPrimaryDark"
                                    android:maxLines="1"
                                    android:inputType="textFilter"
                                    android:drawableLeft="@drawable/ic_search_black_24dp"
                                    android:imeOptions="actionSearch"
                                    android:hint="Search"/>
                                    </LinearLayout>
                                </com.github.florent37.shapeofview.shapes.CutCornerView>
                            </LinearLayout>
                            -->
                        </com.github.florent37.shapeofview.shapes.CutCornerView>
                        <com.github.florent37.shapeofview.shapes.CutCornerView
                            android:layout_width="@dimen/collection_title_width"
                            android:layout_height="wrap_content"
                            android:elevation="4dp"
                            app:shape_cutCorner_bottomLeftSize="4dp"
                            app:shape_cutCorner_bottomRightSize="16dp">
                            <LinearLayout
                                android:layout_width="180dp"
                                android:layout_height="20dp"
                                android:layout_alignParentStart="true"
                                android:layout_alignParentLeft="true"
                                android:background="@color/colorPrimary"
                                android:orientation="vertical">
                                <TextView
                                    android:id="@+id/header_title1"
                                    android:layout_height="wrap_content"
                                    android:layout_width="match_parent"
                                    android:layout_gravity="start"
                                    android:ellipsize="start"
                                    android:paddingBottom="@dimen/dimen_4_dp"
                                    android:gravity="center_horizontal|center_vertical"
                                    android:singleLine="true"
                                    android:textSize="12dp"
                                    android:textAllCaps="true"
                                    android:textColor="@color/grey200"
                                    android:textStyle="bold"
                                    android:focusable="false"
                                    tools:text="Storage"/>
                            </LinearLayout>
                        </com.github.florent37.shapeofview.shapes.CutCornerView>
<!--
                        <com.github.florent37.shapeofview.shapes.CutCornerView
                            android:id="@+id/header_search_panel"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            app:shape_cutCorner_bottomLeftSize="8dp"
                            android:visibility="gone"
                            app:shape_cutCorner_bottomRightSize="4dp">
                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:layout_alignParentRight="true"
                                android:layout_alignParentTop="true"
                                android:background="@color/colorAccent"
                                android:orientation="horizontal">
                                <EditText
                                    android:id="@+id/searchText"
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:layout_marginTop="8dp"
                                    android:layout_marginBottom="8dp"
                                    android:layout_marginLeft="@dimen/storage_title_width"
                                    android:layout_marginRight="16dp"
                                    android:background="@drawable/search_background"
                                    android:textSize="18sp"
                                    android:textColor="@color/colorPrimaryDark"
                                    android:maxLines="1"
                                    android:inputType="textFilter"
                                    android:drawableLeft="@drawable/ic_search_black_24dp"
                                    android:drawablePadding="@dimen/dimen_8_dp"
                                    android:imeOptions="actionSearch"
                                    android:hint="Search"/>
                            </LinearLayout>
                        </com.github.florent37.shapeofview.shapes.CutCornerView>
                        -->
                    </RelativeLayout>
                    <!--
                    <LinearLayout
                            android:id="@+id/header_search_action"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:background="@color/transparent"
                            android:orientation="vertical"
                            android:visibility="visible"
                            android:layout_marginTop="30dp">
                        <com.github.florent37.shapeofview.shapes.CutCornerView
                            android:layout_width="70dp"
                            android:layout_height="24dp"
                            android:layout_gravity="right"
                            android:elevation="4dp"
                            android:layout_marginRight="8dp"
                            app:shape_cutCorner_bottomLeftSize="30dp"
                            app:shape_cutCorner_bottomRightSize="14dp">
                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:background="@color/header_title_background"
                                android:orientation="vertical">
                                <ImageView
                                    android:id="@+id/btn_search_action"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:layout_marginLeft="32dp"
                                    android:layout_gravity="top"
                                    android:src="@drawable/ic_search_black_24dp"/>
                            </LinearLayout>
                        </com.github.florent37.shapeofview.shapes.CutCornerView>
                        </LinearLayout>
                        -->
                </FrameLayout>
            </android.support.v4.widget.SwipeRefreshLayout>
       </LinearLayout>
    <include layout="@layout/fast_scroller"/>
    <android.support.design.widget.BottomNavigationView
        android:id="@+id/navigationView"
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:layout_marginEnd="0dp"
        android:layout_marginStart="0dp"
        android:background="?android:attr/windowBackground"
        android:layout_gravity="bottom"
        app:itemBackground="@color/colorPrimary"
        app:itemIconTint="@color/branding"
        app:itemTextColor="@color/white"
        app:menu="@menu/menu_navigation"/>
</android.support.design.widget.CoordinatorLayout>
